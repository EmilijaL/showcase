<ui:composition template="/WEB-INF/templates/showcase.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:test="http://omnifaces.org/test"
>
	<ui:define name="example">
		<f:metadata>
			<o:viewParam name="test" value="#{viewParamBean.test}" required="true" converter="viewparamTest" />
		</f:metadata>

		<h:form>
			<p>
				This page demonstrates the stateless viewParam component.
			</p>

			<p>
				If this page is requested by a non-Faces request without a parameter, it should display the message: <br/>
				"test: Validation Error: Value is required."
			</p>

			<p>
				Message: <h:messages />
			</p>

			<p>
				Clicking the link below initiates a new GET request with a parameter. Every time this
				request is issued, a converter runs that attaches an ever increasing number to the displayed
				value below:
				<br/>
				<h:link value="Do GET request">
					<f:param name="test" value="foo"/>
				</h:link>
			</p>

			<p>
				Clicking the link below initiates a POST-BACK request. This should not convert
				the value again and thus the number should not change. The POST-BACK should also
				not cause the required validation to be triggered.
				<br/>
				<h:commandLink value="Do POST request" action="#{viewParamBean.action}" />
			</p>

			<p>
				The value: #{viewParamBean.test}
			</p>
		 </h:form>
	 </ui:define>
</ui:composition>